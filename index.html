<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>entrenement security symfony</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <h1>énoncé</h1>
  <p>Vous êtes un développeur junior dans une agence web. On vous confie une application web Symfony 5.4. L’authentification et l’inscription ont été installées à l’aide de makerbundle, mais il reste encore beaucoup de choses à faire. L’entité User possède ces propriétés :</p>
  <ul>
    <li>$id</li>
    <li>$email</li>
    <li>$roles</li>
    <li>$password</li>
    <li>$adress</li>
    <li>$codeAdress</li>
    <li>$city</li>
  </ul>
  <h2>Question 1</h2>
  <p>Modifiez le fichier RegistrationFormType ci-dessous afin qu’il soit fonctionnel et corresponde à l’entité User avec ses nouvelles propriétés.</p>
  <br>
  <pre>
    public function buildForm(FormBuilderInterface $builder, array $options): void
   {
       $builder
           ->add('email')
           ->add('agreeTerms', CheckboxType::class, [
               'mapped' => false,
               'constraints' => [
                   new IsTrue([
                       'message' => 'You should agree to our terms.',
                   ]),
               ],
           ])
           ->add('plainPassword', PasswordType::class, [
               // instead of being set onto the object directly,
               // this is read and encoded in the controller
               'mapped' => false,
               'attr' => ['autocomplete' => 'new-password'],
               'constraints' => [
                   new NotBlank([
                       'message' => 'Please enter a password',
                   ]),
                   new Length([
                       'min' => 6,
                       'minMessage' => 'Your password should be at least {{ limit }} characters',
                       // max length allowed by Symfony for security reasons
                       'max' => 4096,
                   ]),
               ],
           ])
       ;
   }
  </pre>

  <script src="script.js"></script>
  <script src="https://replit.com/public/js/replit-badge-v2.js" theme="dark" position="bottom-right"></script>
</body>

</html>